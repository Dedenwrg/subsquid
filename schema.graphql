type Block @entity {
  id: ID!
  number: BigInt! @index @unique
  timestamp: BigInt! @index
  parentHash: String
  hash: String
  nonce: String
  author: String
  difficulty: BigInt
  totalDifficulty: BigInt
  gasUsed: BigInt
  gasLimit: BigInt
  receiptsRoot: String
  transactionsRoot: String
  stateRoot: String
  size: BigInt
  unclesHash: String
  logsBloom: String
  mixHash: String
  extraData: String
  baseFeePerGas: BigInt
  txCount: Int!
  txHashes: [String!]!
}

type Transaction @entity {
  id: ID! @index @unique
  hash: String! @index @unique
  blockNumber: BigInt! @index
  blockHash: String
  timestamp: BigInt!
  from: String! @index
  to: String @index
  value: BigInt!
  valueCurrency: String
  type: String
  transactionTypes: [String!]
  method: String
  result: String

  # inputs
  rawInput: String
  decodedInput: JSON           

  # gas fields
  gas: BigInt
  gasUsed: BigInt
  gasPrice: BigInt
  maxFeePerGas: BigInt
  maxPriorityFeePerGas: BigInt
  effectiveGasPrice: BigInt
  fee: BigInt
  burnFee: BigInt

  # signature
  nonce: BigInt

  # receipt
  cumulativeGasUsed: BigInt
  contractAddress: String
  transactionIndex: Int
}

type AutonityEvent @entity {
  id: ID! @unique
  type: String! @index
  validator: String! @index
  delegator: String! @index
  blockNumber: BigInt! @index
  transactionHash: String! @index
  logIndex: Int!
  amount: BigDecimal!
  selfBonded: Boolean!
  epoch: BigInt
  timestamp: BigInt! @index
  createdAt: DateTime!
}


type OraclePrice @entity {
  id: ID!                     # `${symbol}-${round}`
  symbol: String! @index
  round: BigInt! @index
  price: BigDecimal!
  timestamp: BigInt! @index
  success: Boolean!
}

type OracleConfig @entity {
  id: ID!
  autonity: String!
  operator: String!
  votePeriod: BigInt!
  outlierDetectionThreshold: BigInt!
  outlierSlashingThreshold: BigInt!
  baseSlashingRate: BigInt!
  nonRevealThreshold: BigInt!
  revealResetInterval: BigInt!
  slashingRateCap: BigInt!
  lastRoundBlock: BigInt!
  currentRound: BigInt!
  updatedAt: DateTime! 
}

type Network @entity {
  id: ID!

  lastEpoch: String
  lastEpochBlock: String

  totalSupply: String
  circulatingSupply: String
  bondedSupply: String
  unbondedSupply: String

  unbondedPercentage: String
  bondedPercentage: String
  seatPrice: String

  lastEpochTime: String
  inflationReserve: String

  treasuryFee: String
  minBaseFee: String
  delegationRate: String
  unbondingPeriod: String
  initialInflationReserve: String
  withholdingThreshold: String
  proposerRewardRate: String
  oracleRewardRate: String
  withheldRewardsPool: String

  treasuryAccount: String
  elasticityMultiplier: String
  accountabilityContract: String
  oracleContract: String
  acuContract: String
  supplyControlContract: String
  stabilizationContract: String
  upgradeManagerContract: String
  inflationControllerContract: String
  omissionAccountabilityContract: String
  auctioneerContract: String
  operatorAccount: String

  epochPeriod: String
  blockPeriod: String
  committeeSize: String
  maxScheduleDuration: String
  gasLimit: String
  gasLimitBoundDivisor: String
  clusteringThreshold: String
  contractVersion: String
}


