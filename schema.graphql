type Block @entity {
  id: ID!
  number: BigInt! @index @unique
  timestamp: BigInt! @index
  parentHash: String
  hash: String
  nonce: String
  author: String
  difficulty: BigInt
  totalDifficulty: BigInt
  gasUsed: BigInt
  gasLimit: BigInt
  receiptsRoot: String
  transactionsRoot: String
  stateRoot: String
  size: BigInt
  unclesHash: String
  logsBloom: String
  mixHash: String
  extraData: String
  baseFeePerGas: BigInt
  txCount: Int!
  txHashes: [String!]!
}

type Transaction @entity {
  id: ID! @index @unique
  hash: String! @index @unique
  blockNumber: BigInt! @index
  blockHash: String
  timestamp: BigInt!
  from: String! @index
  to: String @index
  value: BigInt!
  valueCurrency: String
  type: String
  transactionTypes: [String!]
  method: String
  result: String

  # inputs
  rawInput: String
  decodedInput: JSON           

  # gas fields
  gas: BigInt
  gasUsed: BigInt
  gasPrice: BigInt
  maxFeePerGas: BigInt
  maxPriorityFeePerGas: BigInt
  effectiveGasPrice: BigInt
  fee: BigInt
  burnFee: BigInt

  # signature
  nonce: BigInt

  # receipt
  cumulativeGasUsed: BigInt
  contractAddress: String
  transactionIndex: Int
}

enum AutonityEventType {
  BONDING
  UNBONDING
}

type AutonityEvent @entity {
  id: ID! @unique
  type: String! @index
  validator: String! @index
  delegator: String! @index
  blockNumber: BigInt! @index
  transactionHash: String! @index
  logIndex: Int!
  amount: BigDecimal!
  selfBonded: Boolean!
  epoch: BigInt
  timestamp: BigInt! @index
  createdAt: DateTime!
}
